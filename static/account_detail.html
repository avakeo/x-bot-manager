<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>投稿管理 - X Manager</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1 id="account-name">読み込み中...</h1>
            <a href="index.html" class="btn-add" style="background:#666;">ダッシュボードに戻る</a>
        </header>

        <div class="container-3col">
            <aside class="column images-col">
                <h3>画像</h3>
                <div id="drop-zone">ドラッグ＆ドロップで追加</div>
                <div id="image-gallery" class="gallery"></div>
            </aside>

            <main class="column form-col">
                <h3>投稿する</h3>
                
                <div class="form-group">
                    <label>選択画像（最大4枚）</label>
                    <div id="selected-image-preview" class="image-preview-multi">
                        <p style="color:#999; margin:0; text-align:center;">画像を選択してください（1～4枚）</p>
                    </div>
                    <small style="color:#666; display:block; margin-top:5px;" id="image-count">選択中：0 / 4</small>
                </div>
                
                <form id="tweetForm">
                    <div class="form-group">
                        <label for="content">ツイート内容（オプション）</label>
                        <textarea id="content" placeholder="テキストなし（画像のみ）でも投稿できます。"></textarea>
                        <small id="char-count">0 / 280</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="scheduled_at">予約日時</label>
                        <input type="datetime-local" id="scheduled_at" required>
                    </div>
                    
                    <button type="submit" class="btn-save">予約する</button>
                </form>
                
                <div style="margin-top:20px; padding:15px; background:#f0f7ff; border-radius:8px;">
                    <p style="margin:0 0 10px 0; font-size:0.85em; color:#666;">
                        💡 <strong>ヒント:</strong> 複数の投稿を同じ画像で予約したい場合、次のようにしてください：
                    </p>
                    <ol style="margin:0; padding-left:20px; font-size:0.85em; color:#666;">
                        <li>左カラムから画像を選択</li>
                        <li>ツイート内容と日時を入力</li>
                        <li>「予約する」をクリック</li>
                        <li>繰り返す（画像は同じまま）</li>
                    </ol>
                </div>
            </main>

            <aside class="column history-col">
                <h3>りれき</h3>
                <div id="combined-timeline"></div>
            </aside>
        </div>
    </div>
    <script src="app.js"></script>
    <script>
        // このページが開かれた時に実行
        const urlParams = new URLSearchParams(window.location.search);
        const accountId = urlParams.get('id');
        if (accountId) {
            loadAccountDetail(accountId);
        }
    </script>
</body>
</html>
